{%  extends 'accounts/main.html' %}

{% block content %}
    <br>
    <div class="card mb-4">
<div class="card-header"> CUSTOMERS LIST </div>
		<div class="card card-body">

        <div class="table-responsive">

           <div id="dataTable_wrapper" class="dataTables_wrapper dt-bootstrap4">
        <div class="row">
            <div class="col-sm-12 col-md-6">
                <div class="dataTables_length" id="dataTable_length">
                    <label>Show
                        <select name="dataTable_length" aria-controls="dataTable" class="custom-select custom-select-sm form-control form-control-sm">
                            <option value="10">10</option>
                            <option value="25">25</option><option value="50">50</option><option value="100">100</option>
                        </select> entries</label></div></div><div class="col-sm-12 col-md-6"><div id="dataTable_filter" class="dataTables_filter">
            <label>Search:<input type="search" class="form-control form-control-sm" placeholder="" aria-controls="dataTable"></label>
        </div>
        </div>
        </div>
               <div class="row">


			<table class="table table-sm">
				<tr>
					<th>Name</th>
					<th>Phone </th>
                    <th>E-mail</th>
					<th>Orders</th>
					<th>Update</th>
					<th>Remove</th>
				</tr>

				{% for customer in customers %}
					<tr>
						<td>{{customer.name}}</td>
						<td>{{customer.phone}}</td>
                        <td>{{customer.email}}</td>
						<td>{{ customer.order_set.all.count }}</td>

						<td><a class="btn btn-sm btn-info" href="{% url 'customer' customer.id %}">Update</a></td>

						<td><a class="btn btn-sm btn-danger" href="">Delete</a></td>
					</tr>
				{% endfor %}

			</table>
		</div>
</div>
</div>
        </div>
</div>
{% endblock %}